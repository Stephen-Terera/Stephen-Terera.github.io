{"ast":null,"code":"/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __extends } from \"tslib\";\nimport { MDCComponent } from '@material/base/component';\nimport { closest } from '@material/dom/ponyfill';\nimport { MDCList } from '@material/list/component';\nimport { numbers as listConstants } from '@material/list/constants';\nimport { MDCListFoundation } from '@material/list/foundation';\nimport { MDCMenuSurface } from '@material/menu-surface/component';\nimport { MDCMenuSurfaceFoundation } from '@material/menu-surface/foundation';\nimport { cssClasses, strings } from './constants';\nimport { MDCMenuFoundation } from './foundation';\nvar MDCMenu = /** @class */function (_super) {\n  __extends(MDCMenu, _super);\n  function MDCMenu() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  MDCMenu.attachTo = function (root) {\n    return new MDCMenu(root);\n  };\n  MDCMenu.prototype.initialize = function (menuSurfaceFactory, listFactory) {\n    if (menuSurfaceFactory === void 0) {\n      menuSurfaceFactory = function (el) {\n        return new MDCMenuSurface(el);\n      };\n    }\n    if (listFactory === void 0) {\n      listFactory = function (el) {\n        return new MDCList(el);\n      };\n    }\n    this.menuSurfaceFactory = menuSurfaceFactory;\n    this.listFactory = listFactory;\n  };\n  MDCMenu.prototype.initialSyncWithDOM = function () {\n    var _this = this;\n    this.menuSurface = this.menuSurfaceFactory(this.root);\n    var list = this.root.querySelector(strings.LIST_SELECTOR);\n    if (list) {\n      this.list = this.listFactory(list);\n      this.list.wrapFocus = true;\n    } else {\n      this.list = null;\n    }\n    this.handleKeydown = function (evt) {\n      _this.foundation.handleKeydown(evt);\n    };\n    this.handleItemAction = function (evt) {\n      _this.foundation.handleItemAction(_this.items[evt.detail.index]);\n    };\n    this.handleMenuSurfaceOpened = function () {\n      _this.foundation.handleMenuSurfaceOpened();\n    };\n    this.menuSurface.listen(MDCMenuSurfaceFoundation.strings.OPENED_EVENT, this.handleMenuSurfaceOpened);\n    this.listen('keydown', this.handleKeydown);\n    this.listen(MDCListFoundation.strings.ACTION_EVENT, this.handleItemAction);\n  };\n  MDCMenu.prototype.destroy = function () {\n    if (this.list) {\n      this.list.destroy();\n    }\n    this.menuSurface.destroy();\n    this.menuSurface.unlisten(MDCMenuSurfaceFoundation.strings.OPENED_EVENT, this.handleMenuSurfaceOpened);\n    this.unlisten('keydown', this.handleKeydown);\n    this.unlisten(MDCListFoundation.strings.ACTION_EVENT, this.handleItemAction);\n    _super.prototype.destroy.call(this);\n  };\n  Object.defineProperty(MDCMenu.prototype, \"open\", {\n    get: function () {\n      return this.menuSurface.isOpen();\n    },\n    set: function (value) {\n      if (value) {\n        this.menuSurface.open();\n      } else {\n        this.menuSurface.close();\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MDCMenu.prototype, \"wrapFocus\", {\n    get: function () {\n      return this.list ? this.list.wrapFocus : false;\n    },\n    set: function (value) {\n      if (this.list) {\n        this.list.wrapFocus = value;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MDCMenu.prototype, \"hasTypeahead\", {\n    /**\n     * Sets whether the menu has typeahead functionality.\n     * @param value Whether typeahead is enabled.\n     */\n    set: function (value) {\n      if (this.list) {\n        this.list.hasTypeahead = value;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MDCMenu.prototype, \"typeaheadInProgress\", {\n    /**\n     * @return Whether typeahead logic is currently matching some user prefix.\n     */\n    get: function () {\n      return this.list ? this.list.typeaheadInProgress : false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * Given the next desired character from the user, adds it to the typeahead\n   * buffer. Then, attempts to find the next option matching the buffer. Wraps\n   * around if at the end of options.\n   *\n   * @param nextChar The next character to add to the prefix buffer.\n   * @param startingIndex The index from which to start matching. Only relevant\n   *     when starting a new match sequence. To start a new match sequence,\n   *     clear the buffer using `clearTypeaheadBuffer`, or wait for the buffer\n   *     to clear after a set interval defined in list foundation. Defaults to\n   *     the currently focused index.\n   * @return The index of the matched item, or -1 if no match.\n   */\n  MDCMenu.prototype.typeaheadMatchItem = function (nextChar, startingIndex) {\n    if (this.list) {\n      return this.list.typeaheadMatchItem(nextChar, startingIndex);\n    }\n    return -1;\n  };\n  /**\n   * Layout the underlying list element in the case of any dynamic updates\n   * to its structure.\n   */\n  MDCMenu.prototype.layout = function () {\n    if (this.list) {\n      this.list.layout();\n    }\n  };\n  Object.defineProperty(MDCMenu.prototype, \"items\", {\n    /**\n     * Return the items within the menu. Note that this only contains the set of elements within\n     * the items container that are proper list items, and not supplemental / presentational DOM\n     * elements.\n     */\n    get: function () {\n      return this.list ? this.list.listElements : [];\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MDCMenu.prototype, \"singleSelection\", {\n    /**\n     * Turns on/off the underlying list's single selection mode. Used mainly\n     * by select menu.\n     *\n     * @param singleSelection Whether to enable single selection mode.\n     */\n    set: function (singleSelection) {\n      if (this.list) {\n        this.list.singleSelection = singleSelection;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MDCMenu.prototype, \"selectedIndex\", {\n    /**\n     * Retrieves the selected index. Only applicable to select menus.\n     * @return The selected index, which is a number for single selection and\n     *     radio lists, and an array of numbers for checkbox lists.\n     */\n    get: function () {\n      return this.list ? this.list.selectedIndex : listConstants.UNSET_INDEX;\n    },\n    /**\n     * Sets the selected index of the list. Only applicable to select menus.\n     * @param index The selected index, which is a number for single selection and\n     *     radio lists, and an array of numbers for checkbox lists.\n     */\n    set: function (index) {\n      if (this.list) {\n        this.list.selectedIndex = index;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MDCMenu.prototype, \"quickOpen\", {\n    set: function (quickOpen) {\n      this.menuSurface.quickOpen = quickOpen;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * Sets default focus state where the menu should focus every time when menu\n   * is opened. Focuses the list root (`DefaultFocusState.LIST_ROOT`) element by\n   * default.\n   * @param focusState Default focus state.\n   */\n  MDCMenu.prototype.setDefaultFocusState = function (focusState) {\n    this.foundation.setDefaultFocusState(focusState);\n  };\n  /**\n   * @param corner Default anchor corner alignment of top-left menu corner.\n   */\n  MDCMenu.prototype.setAnchorCorner = function (corner) {\n    this.menuSurface.setAnchorCorner(corner);\n  };\n  MDCMenu.prototype.setAnchorMargin = function (margin) {\n    this.menuSurface.setAnchorMargin(margin);\n  };\n  /**\n   * Sets the list item as the selected row at the specified index.\n   * @param index Index of list item within menu.\n   */\n  MDCMenu.prototype.setSelectedIndex = function (index) {\n    this.foundation.setSelectedIndex(index);\n  };\n  /**\n   * Sets the enabled state to isEnabled for the menu item at the given index.\n   * @param index Index of the menu item\n   * @param isEnabled The desired enabled state of the menu item.\n   */\n  MDCMenu.prototype.setEnabled = function (index, isEnabled) {\n    this.foundation.setEnabled(index, isEnabled);\n  };\n  /**\n   * @return The item within the menu at the index specified.\n   */\n  MDCMenu.prototype.getOptionByIndex = function (index) {\n    var items = this.items;\n    if (index < items.length) {\n      return this.items[index];\n    } else {\n      return null;\n    }\n  };\n  /**\n   * @param index A menu item's index.\n   * @return The primary text within the menu at the index specified.\n   */\n  MDCMenu.prototype.getPrimaryTextAtIndex = function (index) {\n    var item = this.getOptionByIndex(index);\n    if (item && this.list) {\n      return this.list.getPrimaryText(item) || '';\n    }\n    return '';\n  };\n  MDCMenu.prototype.setFixedPosition = function (isFixed) {\n    this.menuSurface.setFixedPosition(isFixed);\n  };\n  MDCMenu.prototype.setIsHoisted = function (isHoisted) {\n    this.menuSurface.setIsHoisted(isHoisted);\n  };\n  MDCMenu.prototype.setAbsolutePosition = function (x, y) {\n    this.menuSurface.setAbsolutePosition(x, y);\n  };\n  /**\n   * Sets the element that the menu-surface is anchored to.\n   */\n  MDCMenu.prototype.setAnchorElement = function (element) {\n    this.menuSurface.anchorElement = element;\n  };\n  MDCMenu.prototype.getDefaultFoundation = function () {\n    var _this = this;\n    // DO NOT INLINE this variable. For backward compatibility, foundations take a Partial<MDCFooAdapter>.\n    // To ensure we don't accidentally omit any methods, we need a separate, strongly typed adapter variable.\n    // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n    var adapter = {\n      addClassToElementAtIndex: function (index, className) {\n        var list = _this.items;\n        list[index].classList.add(className);\n      },\n      removeClassFromElementAtIndex: function (index, className) {\n        var list = _this.items;\n        list[index].classList.remove(className);\n      },\n      addAttributeToElementAtIndex: function (index, attr, value) {\n        var list = _this.items;\n        list[index].setAttribute(attr, value);\n      },\n      removeAttributeFromElementAtIndex: function (index, attr) {\n        var list = _this.items;\n        list[index].removeAttribute(attr);\n      },\n      getAttributeFromElementAtIndex: function (index, attr) {\n        var list = _this.items;\n        return list[index].getAttribute(attr);\n      },\n      elementContainsClass: function (element, className) {\n        return element.classList.contains(className);\n      },\n      closeSurface: function (skipRestoreFocus) {\n        _this.menuSurface.close(skipRestoreFocus);\n      },\n      getElementIndex: function (element) {\n        return _this.items.indexOf(element);\n      },\n      notifySelected: function (evtData) {\n        _this.emit(strings.SELECTED_EVENT, {\n          index: evtData.index,\n          item: _this.items[evtData.index]\n        });\n      },\n      getMenuItemCount: function () {\n        return _this.items.length;\n      },\n      focusItemAtIndex: function (index) {\n        _this.items[index].focus();\n      },\n      focusListRoot: function () {\n        _this.root.querySelector(strings.LIST_SELECTOR).focus();\n      },\n      isSelectableItemAtIndex: function (index) {\n        return !!closest(_this.items[index], \".\" + cssClasses.MENU_SELECTION_GROUP);\n      },\n      getSelectedSiblingOfItemAtIndex: function (index) {\n        var selectionGroupEl = closest(_this.items[index], \".\" + cssClasses.MENU_SELECTION_GROUP);\n        var selectedItemEl = selectionGroupEl.querySelector(\".\" + cssClasses.MENU_SELECTED_LIST_ITEM);\n        return selectedItemEl ? _this.items.indexOf(selectedItemEl) : -1;\n      }\n    };\n    // tslint:enable:object-literal-sort-keys\n    return new MDCMenuFoundation(adapter);\n  };\n  return MDCMenu;\n}(MDCComponent);\nexport { MDCMenu };","map":{"version":3,"names":["MDCComponent","closest","MDCList","numbers","listConstants","MDCListFoundation","MDCMenuSurface","MDCMenuSurfaceFoundation","cssClasses","strings","MDCMenuFoundation","MDCMenu","_super","__extends","attachTo","root","prototype","initialize","menuSurfaceFactory","listFactory","el","initialSyncWithDOM","_this","menuSurface","list","querySelector","LIST_SELECTOR","wrapFocus","handleKeydown","evt","foundation","handleItemAction","items","detail","index","handleMenuSurfaceOpened","listen","OPENED_EVENT","ACTION_EVENT","destroy","unlisten","call","Object","defineProperty","get","isOpen","set","value","open","close","hasTypeahead","typeaheadInProgress","typeaheadMatchItem","nextChar","startingIndex","layout","listElements","singleSelection","selectedIndex","UNSET_INDEX","quickOpen","setDefaultFocusState","focusState","setAnchorCorner","corner","setAnchorMargin","margin","setSelectedIndex","setEnabled","isEnabled","getOptionByIndex","length","getPrimaryTextAtIndex","item","getPrimaryText","setFixedPosition","isFixed","setIsHoisted","isHoisted","setAbsolutePosition","x","y","setAnchorElement","element","anchorElement","getDefaultFoundation","adapter","addClassToElementAtIndex","className","classList","add","removeClassFromElementAtIndex","remove","addAttributeToElementAtIndex","attr","setAttribute","removeAttributeFromElementAtIndex","removeAttribute","getAttributeFromElementAtIndex","getAttribute","elementContainsClass","contains","closeSurface","skipRestoreFocus","getElementIndex","indexOf","notifySelected","evtData","emit","SELECTED_EVENT","getMenuItemCount","focusItemAtIndex","focus","focusListRoot","isSelectableItemAtIndex","MENU_SELECTION_GROUP","getSelectedSiblingOfItemAtIndex","selectionGroupEl","selectedItemEl","MENU_SELECTED_LIST_ITEM"],"sources":["component.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}