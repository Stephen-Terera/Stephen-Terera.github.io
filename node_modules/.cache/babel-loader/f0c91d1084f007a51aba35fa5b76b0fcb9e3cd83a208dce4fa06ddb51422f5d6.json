{"ast":null,"code":"/**\n * Stores result from supportsCssVariables to avoid redundant processing to\n * detect CSS custom variable support.\n */\nvar supportsCssVariables_;\n/**\n * Stores result from applyPassive to avoid redundant processing to detect\n * passive event listener support.\n */\nvar supportsPassive_;\nfunction detectEdgePseudoVarBug(windowObj) {\n  // Detect versions of Edge with buggy var() support\n  // See: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11495448/\n  var document = windowObj.document;\n  var node = document.createElement('div');\n  node.className = 'mdc-ripple-surface--test-edge-var-bug';\n  document.body.appendChild(node);\n  // The bug exists if ::before style ends up propagating to the parent element.\n  // Additionally, getComputedStyle returns null in iframes with display: \"none\" in Firefox,\n  // but Firefox is known to support CSS custom properties correctly.\n  // See: https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n  var computedStyle = windowObj.getComputedStyle(node);\n  var hasPseudoVarBug = computedStyle !== null && computedStyle.borderTopStyle === 'solid';\n  if (node.parentNode) {\n    node.parentNode.removeChild(node);\n  }\n  return hasPseudoVarBug;\n}\nexport function supportsCssVariables(windowObj, forceRefresh) {\n  if (forceRefresh === void 0) {\n    forceRefresh = false;\n  }\n  var CSS = windowObj.CSS;\n  var supportsCssVars = supportsCssVariables_;\n  if (typeof supportsCssVariables_ === 'boolean' && !forceRefresh) {\n    return supportsCssVariables_;\n  }\n  var supportsFunctionPresent = CSS && typeof CSS.supports === 'function';\n  if (!supportsFunctionPresent) {\n    return false;\n  }\n  var explicitlySupportsCssVars = CSS.supports('--css-vars', 'yes');\n  // See: https://bugs.webkit.org/show_bug.cgi?id=154669\n  // See: README section on Safari\n  var weAreFeatureDetectingSafari10plus = CSS.supports('(--css-vars: yes)') && CSS.supports('color', '#00000000');\n  if (explicitlySupportsCssVars || weAreFeatureDetectingSafari10plus) {\n    supportsCssVars = !detectEdgePseudoVarBug(windowObj);\n  } else {\n    supportsCssVars = false;\n  }\n  if (!forceRefresh) {\n    supportsCssVariables_ = supportsCssVars;\n  }\n  return supportsCssVars;\n}\n/**\n * Determine whether the current browser supports passive event listeners, and\n * if so, use them.\n */\nexport function applyPassive(globalObj, forceRefresh) {\n  if (globalObj === void 0) {\n    globalObj = window;\n  }\n  if (forceRefresh === void 0) {\n    forceRefresh = false;\n  }\n  if (supportsPassive_ === undefined || forceRefresh) {\n    var isSupported_1 = false;\n    try {\n      globalObj.document.addEventListener('test', function () {\n        return undefined;\n      }, {\n        get passive() {\n          isSupported_1 = true;\n          return isSupported_1;\n        }\n      });\n    } catch (e) {} // tslint:disable-line:no-empty cannot throw error due to tests. tslint also disables console.log.\n    supportsPassive_ = isSupported_1;\n  }\n  return supportsPassive_ ? {\n    passive: true\n  } : false;\n}\nexport function getNormalizedEventCoords(evt, pageOffset, clientRect) {\n  if (!evt) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n  var x = pageOffset.x,\n    y = pageOffset.y;\n  var documentX = x + clientRect.left;\n  var documentY = y + clientRect.top;\n  var normalizedX;\n  var normalizedY;\n  // Determine touch point relative to the ripple container.\n  if (evt.type === 'touchstart') {\n    var touchEvent = evt;\n    normalizedX = touchEvent.changedTouches[0].pageX - documentX;\n    normalizedY = touchEvent.changedTouches[0].pageY - documentY;\n  } else {\n    var mouseEvent = evt;\n    normalizedX = mouseEvent.pageX - documentX;\n    normalizedY = mouseEvent.pageY - documentY;\n  }\n  return {\n    x: normalizedX,\n    y: normalizedY\n  };\n}","map":{"version":3,"names":["supportsCssVariables_","supportsPassive_","detectEdgePseudoVarBug","windowObj","document","node","createElement","className","body","appendChild","computedStyle","getComputedStyle","hasPseudoVarBug","borderTopStyle","parentNode","removeChild","supportsCssVariables","forceRefresh","CSS","supportsCssVars","supportsFunctionPresent","supports","explicitlySupportsCssVars","weAreFeatureDetectingSafari10plus","applyPassive","globalObj","window","undefined","isSupported_1","addEventListener","passive","e","getNormalizedEventCoords","evt","pageOffset","clientRect","x","y","documentX","left","documentY","top","normalizedX","normalizedY","type","touchEvent","changedTouches","pageX","pageY","mouseEvent"],"sources":["util.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}