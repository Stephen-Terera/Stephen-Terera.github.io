{"ast":null,"code":"/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport * as tslib_1 from \"tslib\";\nimport { MDCFoundation } from './foundation';\nvar MDCComponent = /** @class */function () {\n  function MDCComponent(root, foundation) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n      args[_i - 2] = arguments[_i];\n    }\n    this.root_ = root;\n    this.initialize.apply(this, tslib_1.__spread(args));\n    // Note that we initialize foundation here and not within the constructor's default param so that\n    // this.root_ is defined and can be used within the foundation class.\n    this.foundation_ = foundation === undefined ? this.getDefaultFoundation() : foundation;\n    this.foundation_.init();\n    this.initialSyncWithDOM();\n  }\n  MDCComponent.attachTo = function (root) {\n    // Subclasses which extend MDCBase should provide an attachTo() method that takes a root element and\n    // returns an instantiated component with its root set to that element. Also note that in the cases of\n    // subclasses, an explicit foundation class will not have to be passed in; it will simply be initialized\n    // from getDefaultFoundation().\n    return new MDCComponent(root, new MDCFoundation({}));\n  };\n  /* istanbul ignore next: method param only exists for typing purposes; it does not need to be unit tested */\n  MDCComponent.prototype.initialize = function () {\n    var _args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      _args[_i] = arguments[_i];\n    }\n    // Subclasses can override this to do any additional setup work that would be considered part of a\n    // \"constructor\". Essentially, it is a hook into the parent constructor before the foundation is\n    // initialized. Any additional arguments besides root and foundation will be passed in here.\n  };\n  MDCComponent.prototype.getDefaultFoundation = function () {\n    // Subclasses must override this method to return a properly configured foundation class for the\n    // component.\n    throw new Error('Subclasses must override getDefaultFoundation to return a properly configured ' + 'foundation class');\n  };\n  MDCComponent.prototype.initialSyncWithDOM = function () {\n    // Subclasses should override this method if they need to perform work to synchronize with a host DOM\n    // object. An example of this would be a form control wrapper that needs to synchronize its internal state\n    // to some property or attribute of the host DOM. Please note: this is *not* the place to perform DOM\n    // reads/writes that would cause layout / paint, as this is called synchronously from within the constructor.\n  };\n  MDCComponent.prototype.destroy = function () {\n    // Subclasses may implement this method to release any resources / deregister any listeners they have\n    // attached. An example of this might be deregistering a resize event from the window object.\n    this.foundation_.destroy();\n  };\n  MDCComponent.prototype.listen = function (evtType, handler) {\n    this.root_.addEventListener(evtType, handler);\n  };\n  MDCComponent.prototype.unlisten = function (evtType, handler) {\n    this.root_.removeEventListener(evtType, handler);\n  };\n  /**\n   * Fires a cross-browser-compatible custom event from the component root of the given type, with the given data.\n   */\n  MDCComponent.prototype.emit = function (evtType, evtData, shouldBubble) {\n    if (shouldBubble === void 0) {\n      shouldBubble = false;\n    }\n    var evt;\n    if (typeof CustomEvent === 'function') {\n      evt = new CustomEvent(evtType, {\n        bubbles: shouldBubble,\n        detail: evtData\n      });\n    } else {\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(evtType, shouldBubble, false, evtData);\n    }\n    this.root_.dispatchEvent(evt);\n  };\n  return MDCComponent;\n}();\nexport { MDCComponent };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\nexport default MDCComponent;","map":{"version":3,"names":["MDCFoundation","MDCComponent","root","foundation","args","_i","arguments","length","root_","initialize","apply","tslib_1","__spread","foundation_","undefined","getDefaultFoundation","init","initialSyncWithDOM","attachTo","prototype","_args","Error","destroy","listen","evtType","handler","addEventListener","unlisten","removeEventListener","emit","evtData","shouldBubble","evt","CustomEvent","bubbles","detail","document","createEvent","initCustomEvent","dispatchEvent"],"sources":["component.ts"],"sourcesContent":[null],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;AAuBA,SAAQA,aAAa,QAAO,cAAc;AAG1C,IAAAC,YAAA;EAYE,SAAAA,aACIC,IAAa,EACbC,UAA2B;IAC3B,IAAAC,IAAA;SAAA,IAAAC,EAAA,IAAuB,EAAvBA,EAAA,GAAAC,SAAA,CAAAC,MAAuB,EAAvBF,EAAA,EAAuB;MAAvBD,IAAA,CAAAC,EAAA,QAAAC,SAAA,CAAAD,EAAA;;IAEF,IAAI,CAACG,KAAK,GAAGN,IAAI;IACjB,IAAI,CAACO,UAAU,CAAAC,KAAA,CAAf,IAAI,EAAAC,OAAA,CAAAC,QAAA,CAAeR,IAAI;IACvB;IACA;IACA,IAAI,CAACS,WAAW,GAAGV,UAAU,KAAKW,SAAS,GAAG,IAAI,CAACC,oBAAoB,EAAE,GAAGZ,UAAU;IACtF,IAAI,CAACU,WAAW,CAACG,IAAI,EAAE;IACvB,IAAI,CAACC,kBAAkB,EAAE;EAC3B;EAvBOhB,YAAA,CAAAiB,QAAQ,GAAf,UAAgBhB,IAAa;IAC3B;IACA;IACA;IACA;IACA,OAAO,IAAID,YAAY,CAACC,IAAI,EAAE,IAAIF,aAAa,CAAC,EAAE,CAAC,CAAC;EACtD,CAAC;EAmBD;EACAC,YAAA,CAAAkB,SAAA,CAAAV,UAAU,GAAV;IAAW,IAAAW,KAAA;SAAA,IAAAf,EAAA,IAAwB,EAAxBA,EAAA,GAAAC,SAAA,CAAAC,MAAwB,EAAxBF,EAAA,EAAwB;MAAxBe,KAAA,CAAAf,EAAA,IAAAC,SAAA,CAAAD,EAAA;;IACT;IACA;IACA;EACF,CAAC;EAEDJ,YAAA,CAAAkB,SAAA,CAAAJ,oBAAoB,GAApB;IACE;IACA;IACA,MAAM,IAAIM,KAAK,CAAC,gFAAgF,GAC5F,kBAAkB,CAAC;EACzB,CAAC;EAEDpB,YAAA,CAAAkB,SAAA,CAAAF,kBAAkB,GAAlB;IACE;IACA;IACA;IACA;EAAA,CACD;EAEDhB,YAAA,CAAAkB,SAAA,CAAAG,OAAO,GAAP;IACE;IACA;IACA,IAAI,CAACT,WAAW,CAACS,OAAO,EAAE;EAC5B,CAAC;EAQDrB,YAAA,CAAAkB,SAAA,CAAAI,MAAM,GAAN,UAAOC,OAAe,EAAEC,OAAsB;IAC5C,IAAI,CAACjB,KAAK,CAACkB,gBAAgB,CAACF,OAAO,EAAEC,OAAO,CAAC;EAC/C,CAAC;EAQDxB,YAAA,CAAAkB,SAAA,CAAAQ,QAAQ,GAAR,UAASH,OAAe,EAAEC,OAAsB;IAC9C,IAAI,CAACjB,KAAK,CAACoB,mBAAmB,CAACJ,OAAO,EAAEC,OAAO,CAAC;EAClD,CAAC;EAED;;;EAGAxB,YAAA,CAAAkB,SAAA,CAAAU,IAAI,GAAJ,UAAuBL,OAAe,EAAEM,OAAU,EAAEC,YAAoB;IAApB,IAAAA,YAAA;MAAAA,YAAA,QAAoB;IAAA;IACtE,IAAIC,GAAmB;IACvB,IAAI,OAAOC,WAAW,KAAK,UAAU,EAAE;MACrCD,GAAG,GAAG,IAAIC,WAAW,CAAIT,OAAO,EAAE;QAChCU,OAAO,EAAEH,YAAY;QACrBI,MAAM,EAAEL;OACT,CAAC;KACH,MAAM;MACLE,GAAG,GAAGI,QAAQ,CAACC,WAAW,CAAC,aAAa,CAAC;MACzCL,GAAG,CAACM,eAAe,CAACd,OAAO,EAAEO,YAAY,EAAE,KAAK,EAAED,OAAO,CAAC;;IAG5D,IAAI,CAACtB,KAAK,CAAC+B,aAAa,CAACP,GAAG,CAAC;EAC/B,CAAC;EACH,OAAA/B,YAAC;AAAD,CAAC,CA1FD;;AA4FA;AACA,eAAeA,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}