{"ast":null,"code":"/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport * as tslib_1 from \"tslib\";\nimport { MDCFoundation } from '@material/base/foundation';\nimport { cssClasses, numbers, strings } from './constants';\nvar MDCToolbarFoundation = /** @class */function (_super) {\n  tslib_1.__extends(MDCToolbarFoundation, _super);\n  function MDCToolbarFoundation(adapter) {\n    var _this = _super.call(this, tslib_1.__assign({}, MDCToolbarFoundation.defaultAdapter, adapter)) || this;\n    _this.checkRowHeightFrame_ = 0;\n    _this.scrollFrame_ = 0;\n    _this.executedLastChange_ = false;\n    _this.isFixed_ = false;\n    _this.isFixedLastRow_ = false;\n    _this.hasFlexibleFirstRow_ = false;\n    _this.useFlexDefaultBehavior_ = false;\n    _this.calculations_ = {\n      flexibleExpansionHeight: 0,\n      flexibleExpansionRatio: 0,\n      maxTranslateYDistance: 0,\n      maxTranslateYRatio: 0,\n      scrollThreshold: 0,\n      scrollThresholdRatio: 0,\n      toolbarHeight: 0,\n      toolbarRatio: 0,\n      toolbarRowHeight: 0\n    };\n    return _this;\n  }\n  Object.defineProperty(MDCToolbarFoundation, \"cssClasses\", {\n    get: function () {\n      return cssClasses;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MDCToolbarFoundation, \"strings\", {\n    get: function () {\n      return strings;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MDCToolbarFoundation, \"numbers\", {\n    get: function () {\n      return numbers;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MDCToolbarFoundation, \"defaultAdapter\", {\n    get: function () {\n      // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n      return {\n        hasClass: function () {\n          return false;\n        },\n        addClass: function () {\n          return undefined;\n        },\n        removeClass: function () {\n          return undefined;\n        },\n        registerScrollHandler: function () {\n          return undefined;\n        },\n        deregisterScrollHandler: function () {\n          return undefined;\n        },\n        registerResizeHandler: function () {\n          return undefined;\n        },\n        deregisterResizeHandler: function () {\n          return undefined;\n        },\n        getViewportWidth: function () {\n          return 0;\n        },\n        getViewportScrollY: function () {\n          return 0;\n        },\n        getOffsetHeight: function () {\n          return 0;\n        },\n        getFirstRowElementOffsetHeight: function () {\n          return 0;\n        },\n        notifyChange: function () {\n          return undefined;\n        },\n        setStyle: function () {\n          return undefined;\n        },\n        setStyleForTitleElement: function () {\n          return undefined;\n        },\n        setStyleForFlexibleRowElement: function () {\n          return undefined;\n        },\n        setStyleForFixedAdjustElement: function () {\n          return undefined;\n        }\n      };\n      // tslint:enable:object-literal-sort-keys\n    },\n    enumerable: true,\n    configurable: true\n  });\n  MDCToolbarFoundation.prototype.init = function () {\n    var _this = this;\n    this.isFixed_ = this.adapter_.hasClass(cssClasses.FIXED);\n    this.isFixedLastRow_ = this.adapter_.hasClass(cssClasses.FIXED_LASTROW) && this.isFixed_;\n    this.hasFlexibleFirstRow_ = this.adapter_.hasClass(cssClasses.TOOLBAR_ROW_FLEXIBLE);\n    if (this.hasFlexibleFirstRow_) {\n      this.useFlexDefaultBehavior_ = this.adapter_.hasClass(cssClasses.FLEXIBLE_DEFAULT_BEHAVIOR);\n    }\n    this.resizeHandler_ = function () {\n      return _this.checkRowHeight_();\n    };\n    this.scrollHandler_ = function () {\n      return _this.updateToolbarStyles_();\n    };\n    this.adapter_.registerResizeHandler(this.resizeHandler_);\n    this.adapter_.registerScrollHandler(this.scrollHandler_);\n    this.initKeyRatio_();\n    this.setKeyHeights_();\n  };\n  MDCToolbarFoundation.prototype.destroy = function () {\n    this.adapter_.deregisterResizeHandler(this.resizeHandler_);\n    this.adapter_.deregisterScrollHandler(this.scrollHandler_);\n  };\n  MDCToolbarFoundation.prototype.updateAdjustElementStyles = function () {\n    if (this.isFixed_) {\n      this.adapter_.setStyleForFixedAdjustElement('margin-top', this.calculations_.toolbarHeight + \"px\");\n    }\n  };\n  MDCToolbarFoundation.prototype.getFlexibleExpansionRatio_ = function (scrollTop) {\n    // To prevent division by zero when there is no flexibleExpansionHeight\n    var delta = 0.0001;\n    return Math.max(0, 1 - scrollTop / (this.calculations_.flexibleExpansionHeight + delta));\n  };\n  MDCToolbarFoundation.prototype.checkRowHeight_ = function () {\n    var _this = this;\n    cancelAnimationFrame(this.checkRowHeightFrame_);\n    this.checkRowHeightFrame_ = requestAnimationFrame(function () {\n      return _this.setKeyHeights_();\n    });\n  };\n  MDCToolbarFoundation.prototype.setKeyHeights_ = function () {\n    var newToolbarRowHeight = this.getRowHeight_();\n    if (newToolbarRowHeight !== this.calculations_.toolbarRowHeight) {\n      this.calculations_.toolbarRowHeight = newToolbarRowHeight;\n      this.calculations_.toolbarHeight = this.calculations_.toolbarRatio * this.calculations_.toolbarRowHeight;\n      this.calculations_.flexibleExpansionHeight = this.calculations_.flexibleExpansionRatio * this.calculations_.toolbarRowHeight;\n      this.calculations_.maxTranslateYDistance = this.calculations_.maxTranslateYRatio * this.calculations_.toolbarRowHeight;\n      this.calculations_.scrollThreshold = this.calculations_.scrollThresholdRatio * this.calculations_.toolbarRowHeight;\n      this.updateAdjustElementStyles();\n      this.updateToolbarStyles_();\n    }\n  };\n  MDCToolbarFoundation.prototype.updateToolbarStyles_ = function () {\n    var _this = this;\n    cancelAnimationFrame(this.scrollFrame_);\n    this.scrollFrame_ = requestAnimationFrame(function () {\n      var scrollTop = _this.adapter_.getViewportScrollY();\n      var hasScrolledOutOfThreshold = _this.scrolledOutOfThreshold_(scrollTop);\n      if (hasScrolledOutOfThreshold && _this.executedLastChange_) {\n        return;\n      }\n      var flexibleExpansionRatio = _this.getFlexibleExpansionRatio_(scrollTop);\n      _this.updateToolbarFlexibleState_(flexibleExpansionRatio);\n      if (_this.isFixedLastRow_) {\n        _this.updateToolbarFixedState_(scrollTop);\n      }\n      if (_this.hasFlexibleFirstRow_) {\n        _this.updateFlexibleRowElementStyles_(flexibleExpansionRatio);\n      }\n      _this.executedLastChange_ = hasScrolledOutOfThreshold;\n      _this.adapter_.notifyChange({\n        flexibleExpansionRatio: flexibleExpansionRatio\n      });\n    });\n  };\n  MDCToolbarFoundation.prototype.scrolledOutOfThreshold_ = function (scrollTop) {\n    return scrollTop > this.calculations_.scrollThreshold;\n  };\n  MDCToolbarFoundation.prototype.initKeyRatio_ = function () {\n    var toolbarRowHeight = this.getRowHeight_();\n    var firstRowMaxRatio = this.adapter_.getFirstRowElementOffsetHeight() / toolbarRowHeight;\n    this.calculations_.toolbarRatio = this.adapter_.getOffsetHeight() / toolbarRowHeight;\n    this.calculations_.flexibleExpansionRatio = firstRowMaxRatio - 1;\n    this.calculations_.maxTranslateYRatio = this.isFixedLastRow_ ? this.calculations_.toolbarRatio - firstRowMaxRatio : 0;\n    this.calculations_.scrollThresholdRatio = (this.isFixedLastRow_ ? this.calculations_.toolbarRatio : firstRowMaxRatio) - 1;\n  };\n  MDCToolbarFoundation.prototype.getRowHeight_ = function () {\n    var breakpoint = numbers.TOOLBAR_MOBILE_BREAKPOINT;\n    return this.adapter_.getViewportWidth() < breakpoint ? numbers.TOOLBAR_ROW_MOBILE_HEIGHT : numbers.TOOLBAR_ROW_HEIGHT;\n  };\n  MDCToolbarFoundation.prototype.updateToolbarFlexibleState_ = function (flexibleExpansionRatio) {\n    this.adapter_.removeClass(cssClasses.FLEXIBLE_MAX);\n    this.adapter_.removeClass(cssClasses.FLEXIBLE_MIN);\n    if (flexibleExpansionRatio === 1) {\n      this.adapter_.addClass(cssClasses.FLEXIBLE_MAX);\n    } else if (flexibleExpansionRatio === 0) {\n      this.adapter_.addClass(cssClasses.FLEXIBLE_MIN);\n    }\n  };\n  MDCToolbarFoundation.prototype.updateToolbarFixedState_ = function (scrollTop) {\n    var translateDistance = Math.max(0, Math.min(scrollTop - this.calculations_.flexibleExpansionHeight, this.calculations_.maxTranslateYDistance));\n    this.adapter_.setStyle('transform', \"translateY(\" + -translateDistance + \"px)\");\n    if (translateDistance === this.calculations_.maxTranslateYDistance) {\n      this.adapter_.addClass(cssClasses.FIXED_AT_LAST_ROW);\n    } else {\n      this.adapter_.removeClass(cssClasses.FIXED_AT_LAST_ROW);\n    }\n  };\n  MDCToolbarFoundation.prototype.updateFlexibleRowElementStyles_ = function (flexibleExpansionRatio) {\n    if (this.isFixed_) {\n      var height = this.calculations_.flexibleExpansionHeight * flexibleExpansionRatio;\n      this.adapter_.setStyleForFlexibleRowElement('height', height + this.calculations_.toolbarRowHeight + \"px\");\n    }\n    if (this.useFlexDefaultBehavior_) {\n      this.updateElementStylesDefaultBehavior_(flexibleExpansionRatio);\n    }\n  };\n  MDCToolbarFoundation.prototype.updateElementStylesDefaultBehavior_ = function (flexibleExpansionRatio) {\n    var maxTitleSize = numbers.MAX_TITLE_SIZE;\n    var minTitleSize = numbers.MIN_TITLE_SIZE;\n    var currentTitleSize = (maxTitleSize - minTitleSize) * flexibleExpansionRatio + minTitleSize;\n    this.adapter_.setStyleForTitleElement('font-size', currentTitleSize + \"rem\");\n  };\n  return MDCToolbarFoundation;\n}(MDCFoundation);\nexport { MDCToolbarFoundation };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\nexport default MDCToolbarFoundation;","map":{"version":3,"names":["MDCFoundation","cssClasses","numbers","strings","MDCToolbarFoundation","_super","tslib_1","__extends","adapter","_this","call","__assign","defaultAdapter","checkRowHeightFrame_","scrollFrame_","executedLastChange_","isFixed_","isFixedLastRow_","hasFlexibleFirstRow_","useFlexDefaultBehavior_","calculations_","flexibleExpansionHeight","flexibleExpansionRatio","maxTranslateYDistance","maxTranslateYRatio","scrollThreshold","scrollThresholdRatio","toolbarHeight","toolbarRatio","toolbarRowHeight","Object","defineProperty","get","hasClass","addClass","undefined","removeClass","registerScrollHandler","deregisterScrollHandler","registerResizeHandler","deregisterResizeHandler","getViewportWidth","getViewportScrollY","getOffsetHeight","getFirstRowElementOffsetHeight","notifyChange","setStyle","setStyleForTitleElement","setStyleForFlexibleRowElement","setStyleForFixedAdjustElement","prototype","init","adapter_","FIXED","FIXED_LASTROW","TOOLBAR_ROW_FLEXIBLE","FLEXIBLE_DEFAULT_BEHAVIOR","resizeHandler_","checkRowHeight_","scrollHandler_","updateToolbarStyles_","initKeyRatio_","setKeyHeights_","destroy","updateAdjustElementStyles","getFlexibleExpansionRatio_","scrollTop","delta","Math","max","cancelAnimationFrame","requestAnimationFrame","newToolbarRowHeight","getRowHeight_","hasScrolledOutOfThreshold","scrolledOutOfThreshold_","updateToolbarFlexibleState_","updateToolbarFixedState_","updateFlexibleRowElementStyles_","firstRowMaxRatio","breakpoint","TOOLBAR_MOBILE_BREAKPOINT","TOOLBAR_ROW_MOBILE_HEIGHT","TOOLBAR_ROW_HEIGHT","FLEXIBLE_MAX","FLEXIBLE_MIN","translateDistance","min","FIXED_AT_LAST_ROW","height","updateElementStylesDefaultBehavior_","maxTitleSize","MAX_TITLE_SIZE","minTitleSize","MIN_TITLE_SIZE","currentTitleSize"],"sources":["foundation.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}