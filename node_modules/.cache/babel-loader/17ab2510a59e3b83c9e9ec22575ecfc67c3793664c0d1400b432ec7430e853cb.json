{"ast":null,"code":"/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport * as tslib_1 from \"tslib\";\nimport { MDCFoundation } from '@material/base/foundation';\nimport { cssClasses, numbers, strings } from './constants';\nimport { getNormalizedEventCoords } from './util';\n// Activation events registered on the root element of each instance for activation\nvar ACTIVATION_EVENT_TYPES = ['touchstart', 'pointerdown', 'mousedown', 'keydown'];\n// Deactivation events registered on documentElement when a pointer-related down event occurs\nvar POINTER_DEACTIVATION_EVENT_TYPES = ['touchend', 'pointerup', 'mouseup', 'contextmenu'];\n// simultaneous nested activations\nvar activatedTargets = [];\nvar MDCRippleFoundation = /** @class */function (_super) {\n  tslib_1.__extends(MDCRippleFoundation, _super);\n  function MDCRippleFoundation(adapter) {\n    var _this = _super.call(this, tslib_1.__assign({}, MDCRippleFoundation.defaultAdapter, adapter)) || this;\n    _this.activationAnimationHasEnded_ = false;\n    _this.activationTimer_ = 0;\n    _this.fgDeactivationRemovalTimer_ = 0;\n    _this.fgScale_ = '0';\n    _this.frame_ = {\n      width: 0,\n      height: 0\n    };\n    _this.initialSize_ = 0;\n    _this.layoutFrame_ = 0;\n    _this.maxRadius_ = 0;\n    _this.unboundedCoords_ = {\n      left: 0,\n      top: 0\n    };\n    _this.activationState_ = _this.defaultActivationState_();\n    _this.activationTimerCallback_ = function () {\n      _this.activationAnimationHasEnded_ = true;\n      _this.runDeactivationUXLogicIfReady_();\n    };\n    _this.activateHandler_ = function (e) {\n      return _this.activate_(e);\n    };\n    _this.deactivateHandler_ = function () {\n      return _this.deactivate_();\n    };\n    _this.focusHandler_ = function () {\n      return _this.handleFocus();\n    };\n    _this.blurHandler_ = function () {\n      return _this.handleBlur();\n    };\n    _this.resizeHandler_ = function () {\n      return _this.layout();\n    };\n    return _this;\n  }\n  Object.defineProperty(MDCRippleFoundation, \"cssClasses\", {\n    get: function () {\n      return cssClasses;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MDCRippleFoundation, \"strings\", {\n    get: function () {\n      return strings;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MDCRippleFoundation, \"numbers\", {\n    get: function () {\n      return numbers;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MDCRippleFoundation, \"defaultAdapter\", {\n    get: function () {\n      return {\n        addClass: function () {\n          return undefined;\n        },\n        browserSupportsCssVars: function () {\n          return true;\n        },\n        computeBoundingRect: function () {\n          return {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n            width: 0,\n            height: 0\n          };\n        },\n        containsEventTarget: function () {\n          return true;\n        },\n        deregisterDocumentInteractionHandler: function () {\n          return undefined;\n        },\n        deregisterInteractionHandler: function () {\n          return undefined;\n        },\n        deregisterResizeHandler: function () {\n          return undefined;\n        },\n        getWindowPageOffset: function () {\n          return {\n            x: 0,\n            y: 0\n          };\n        },\n        isSurfaceActive: function () {\n          return true;\n        },\n        isSurfaceDisabled: function () {\n          return true;\n        },\n        isUnbounded: function () {\n          return true;\n        },\n        registerDocumentInteractionHandler: function () {\n          return undefined;\n        },\n        registerInteractionHandler: function () {\n          return undefined;\n        },\n        registerResizeHandler: function () {\n          return undefined;\n        },\n        removeClass: function () {\n          return undefined;\n        },\n        updateCssVariable: function () {\n          return undefined;\n        }\n      };\n    },\n    enumerable: true,\n    configurable: true\n  });\n  MDCRippleFoundation.prototype.init = function () {\n    var _this = this;\n    var supportsPressRipple = this.supportsPressRipple_();\n    this.registerRootHandlers_(supportsPressRipple);\n    if (supportsPressRipple) {\n      var _a = MDCRippleFoundation.cssClasses,\n        ROOT_1 = _a.ROOT,\n        UNBOUNDED_1 = _a.UNBOUNDED;\n      requestAnimationFrame(function () {\n        _this.adapter_.addClass(ROOT_1);\n        if (_this.adapter_.isUnbounded()) {\n          _this.adapter_.addClass(UNBOUNDED_1);\n          // Unbounded ripples need layout logic applied immediately to set coordinates for both shade and ripple\n          _this.layoutInternal_();\n        }\n      });\n    }\n  };\n  MDCRippleFoundation.prototype.destroy = function () {\n    var _this = this;\n    if (this.supportsPressRipple_()) {\n      if (this.activationTimer_) {\n        clearTimeout(this.activationTimer_);\n        this.activationTimer_ = 0;\n        this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_ACTIVATION);\n      }\n      if (this.fgDeactivationRemovalTimer_) {\n        clearTimeout(this.fgDeactivationRemovalTimer_);\n        this.fgDeactivationRemovalTimer_ = 0;\n        this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_DEACTIVATION);\n      }\n      var _a = MDCRippleFoundation.cssClasses,\n        ROOT_2 = _a.ROOT,\n        UNBOUNDED_2 = _a.UNBOUNDED;\n      requestAnimationFrame(function () {\n        _this.adapter_.removeClass(ROOT_2);\n        _this.adapter_.removeClass(UNBOUNDED_2);\n        _this.removeCssVars_();\n      });\n    }\n    this.deregisterRootHandlers_();\n    this.deregisterDeactivationHandlers_();\n  };\n  /**\n   * @param evt Optional event containing position information.\n   */\n  MDCRippleFoundation.prototype.activate = function (evt) {\n    this.activate_(evt);\n  };\n  MDCRippleFoundation.prototype.deactivate = function () {\n    this.deactivate_();\n  };\n  MDCRippleFoundation.prototype.layout = function () {\n    var _this = this;\n    if (this.layoutFrame_) {\n      cancelAnimationFrame(this.layoutFrame_);\n    }\n    this.layoutFrame_ = requestAnimationFrame(function () {\n      _this.layoutInternal_();\n      _this.layoutFrame_ = 0;\n    });\n  };\n  MDCRippleFoundation.prototype.setUnbounded = function (unbounded) {\n    var UNBOUNDED = MDCRippleFoundation.cssClasses.UNBOUNDED;\n    if (unbounded) {\n      this.adapter_.addClass(UNBOUNDED);\n    } else {\n      this.adapter_.removeClass(UNBOUNDED);\n    }\n  };\n  MDCRippleFoundation.prototype.handleFocus = function () {\n    var _this = this;\n    requestAnimationFrame(function () {\n      return _this.adapter_.addClass(MDCRippleFoundation.cssClasses.BG_FOCUSED);\n    });\n  };\n  MDCRippleFoundation.prototype.handleBlur = function () {\n    var _this = this;\n    requestAnimationFrame(function () {\n      return _this.adapter_.removeClass(MDCRippleFoundation.cssClasses.BG_FOCUSED);\n    });\n  };\n  /**\n   * We compute this property so that we are not querying information about the client\n   * until the point in time where the foundation requests it. This prevents scenarios where\n   * client-side feature-detection may happen too early, such as when components are rendered on the server\n   * and then initialized at mount time on the client.\n   */\n  MDCRippleFoundation.prototype.supportsPressRipple_ = function () {\n    return this.adapter_.browserSupportsCssVars();\n  };\n  MDCRippleFoundation.prototype.defaultActivationState_ = function () {\n    return {\n      activationEvent: undefined,\n      hasDeactivationUXRun: false,\n      isActivated: false,\n      isProgrammatic: false,\n      wasActivatedByPointer: false,\n      wasElementMadeActive: false\n    };\n  };\n  /**\n   * supportsPressRipple Passed from init to save a redundant function call\n   */\n  MDCRippleFoundation.prototype.registerRootHandlers_ = function (supportsPressRipple) {\n    var _this = this;\n    if (supportsPressRipple) {\n      ACTIVATION_EVENT_TYPES.forEach(function (evtType) {\n        _this.adapter_.registerInteractionHandler(evtType, _this.activateHandler_);\n      });\n      if (this.adapter_.isUnbounded()) {\n        this.adapter_.registerResizeHandler(this.resizeHandler_);\n      }\n    }\n    this.adapter_.registerInteractionHandler('focus', this.focusHandler_);\n    this.adapter_.registerInteractionHandler('blur', this.blurHandler_);\n  };\n  MDCRippleFoundation.prototype.registerDeactivationHandlers_ = function (evt) {\n    var _this = this;\n    if (evt.type === 'keydown') {\n      this.adapter_.registerInteractionHandler('keyup', this.deactivateHandler_);\n    } else {\n      POINTER_DEACTIVATION_EVENT_TYPES.forEach(function (evtType) {\n        _this.adapter_.registerDocumentInteractionHandler(evtType, _this.deactivateHandler_);\n      });\n    }\n  };\n  MDCRippleFoundation.prototype.deregisterRootHandlers_ = function () {\n    var _this = this;\n    ACTIVATION_EVENT_TYPES.forEach(function (evtType) {\n      _this.adapter_.deregisterInteractionHandler(evtType, _this.activateHandler_);\n    });\n    this.adapter_.deregisterInteractionHandler('focus', this.focusHandler_);\n    this.adapter_.deregisterInteractionHandler('blur', this.blurHandler_);\n    if (this.adapter_.isUnbounded()) {\n      this.adapter_.deregisterResizeHandler(this.resizeHandler_);\n    }\n  };\n  MDCRippleFoundation.prototype.deregisterDeactivationHandlers_ = function () {\n    var _this = this;\n    this.adapter_.deregisterInteractionHandler('keyup', this.deactivateHandler_);\n    POINTER_DEACTIVATION_EVENT_TYPES.forEach(function (evtType) {\n      _this.adapter_.deregisterDocumentInteractionHandler(evtType, _this.deactivateHandler_);\n    });\n  };\n  MDCRippleFoundation.prototype.removeCssVars_ = function () {\n    var _this = this;\n    var rippleStrings = MDCRippleFoundation.strings;\n    var keys = Object.keys(rippleStrings);\n    keys.forEach(function (key) {\n      if (key.indexOf('VAR_') === 0) {\n        _this.adapter_.updateCssVariable(rippleStrings[key], null);\n      }\n    });\n  };\n  MDCRippleFoundation.prototype.activate_ = function (evt) {\n    var _this = this;\n    if (this.adapter_.isSurfaceDisabled()) {\n      return;\n    }\n    var activationState = this.activationState_;\n    if (activationState.isActivated) {\n      return;\n    }\n    // Avoid reacting to follow-on events fired by touch device after an already-processed user interaction\n    var previousActivationEvent = this.previousActivationEvent_;\n    var isSameInteraction = previousActivationEvent && evt !== undefined && previousActivationEvent.type !== evt.type;\n    if (isSameInteraction) {\n      return;\n    }\n    activationState.isActivated = true;\n    activationState.isProgrammatic = evt === undefined;\n    activationState.activationEvent = evt;\n    activationState.wasActivatedByPointer = activationState.isProgrammatic ? false : evt !== undefined && (evt.type === 'mousedown' || evt.type === 'touchstart' || evt.type === 'pointerdown');\n    var hasActivatedChild = evt !== undefined && activatedTargets.length > 0 && activatedTargets.some(function (target) {\n      return _this.adapter_.containsEventTarget(target);\n    });\n    if (hasActivatedChild) {\n      // Immediately reset activation state, while preserving logic that prevents touch follow-on events\n      this.resetActivationState_();\n      return;\n    }\n    if (evt !== undefined) {\n      activatedTargets.push(evt.target);\n      this.registerDeactivationHandlers_(evt);\n    }\n    activationState.wasElementMadeActive = this.checkElementMadeActive_(evt);\n    if (activationState.wasElementMadeActive) {\n      this.animateActivation_();\n    }\n    requestAnimationFrame(function () {\n      // Reset array on next frame after the current event has had a chance to bubble to prevent ancestor ripples\n      activatedTargets = [];\n      if (!activationState.wasElementMadeActive && evt !== undefined && (evt.key === ' ' || evt.keyCode === 32)) {\n        // If space was pressed, try again within an rAF call to detect :active, because different UAs report\n        // active states inconsistently when they're called within event handling code:\n        // - https://bugs.chromium.org/p/chromium/issues/detail?id=635971\n        // - https://bugzilla.mozilla.org/show_bug.cgi?id=1293741\n        // We try first outside rAF to support Edge, which does not exhibit this problem, but will crash if a CSS\n        // variable is set within a rAF callback for a submit button interaction (#2241).\n        activationState.wasElementMadeActive = _this.checkElementMadeActive_(evt);\n        if (activationState.wasElementMadeActive) {\n          _this.animateActivation_();\n        }\n      }\n      if (!activationState.wasElementMadeActive) {\n        // Reset activation state immediately if element was not made active.\n        _this.activationState_ = _this.defaultActivationState_();\n      }\n    });\n  };\n  MDCRippleFoundation.prototype.checkElementMadeActive_ = function (evt) {\n    return evt !== undefined && evt.type === 'keydown' ? this.adapter_.isSurfaceActive() : true;\n  };\n  MDCRippleFoundation.prototype.animateActivation_ = function () {\n    var _this = this;\n    var _a = MDCRippleFoundation.strings,\n      VAR_FG_TRANSLATE_START = _a.VAR_FG_TRANSLATE_START,\n      VAR_FG_TRANSLATE_END = _a.VAR_FG_TRANSLATE_END;\n    var _b = MDCRippleFoundation.cssClasses,\n      FG_DEACTIVATION = _b.FG_DEACTIVATION,\n      FG_ACTIVATION = _b.FG_ACTIVATION;\n    var DEACTIVATION_TIMEOUT_MS = MDCRippleFoundation.numbers.DEACTIVATION_TIMEOUT_MS;\n    this.layoutInternal_();\n    var translateStart = '';\n    var translateEnd = '';\n    if (!this.adapter_.isUnbounded()) {\n      var _c = this.getFgTranslationCoordinates_(),\n        startPoint = _c.startPoint,\n        endPoint = _c.endPoint;\n      translateStart = startPoint.x + \"px, \" + startPoint.y + \"px\";\n      translateEnd = endPoint.x + \"px, \" + endPoint.y + \"px\";\n    }\n    this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_START, translateStart);\n    this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_END, translateEnd);\n    // Cancel any ongoing activation/deactivation animations\n    clearTimeout(this.activationTimer_);\n    clearTimeout(this.fgDeactivationRemovalTimer_);\n    this.rmBoundedActivationClasses_();\n    this.adapter_.removeClass(FG_DEACTIVATION);\n    // Force layout in order to re-trigger the animation.\n    this.adapter_.computeBoundingRect();\n    this.adapter_.addClass(FG_ACTIVATION);\n    this.activationTimer_ = setTimeout(function () {\n      return _this.activationTimerCallback_();\n    }, DEACTIVATION_TIMEOUT_MS);\n  };\n  MDCRippleFoundation.prototype.getFgTranslationCoordinates_ = function () {\n    var _a = this.activationState_,\n      activationEvent = _a.activationEvent,\n      wasActivatedByPointer = _a.wasActivatedByPointer;\n    var startPoint;\n    if (wasActivatedByPointer) {\n      startPoint = getNormalizedEventCoords(activationEvent, this.adapter_.getWindowPageOffset(), this.adapter_.computeBoundingRect());\n    } else {\n      startPoint = {\n        x: this.frame_.width / 2,\n        y: this.frame_.height / 2\n      };\n    }\n    // Center the element around the start point.\n    startPoint = {\n      x: startPoint.x - this.initialSize_ / 2,\n      y: startPoint.y - this.initialSize_ / 2\n    };\n    var endPoint = {\n      x: this.frame_.width / 2 - this.initialSize_ / 2,\n      y: this.frame_.height / 2 - this.initialSize_ / 2\n    };\n    return {\n      startPoint: startPoint,\n      endPoint: endPoint\n    };\n  };\n  MDCRippleFoundation.prototype.runDeactivationUXLogicIfReady_ = function () {\n    var _this = this;\n    // This method is called both when a pointing device is released, and when the activation animation ends.\n    // The deactivation animation should only run after both of those occur.\n    var FG_DEACTIVATION = MDCRippleFoundation.cssClasses.FG_DEACTIVATION;\n    var _a = this.activationState_,\n      hasDeactivationUXRun = _a.hasDeactivationUXRun,\n      isActivated = _a.isActivated;\n    var activationHasEnded = hasDeactivationUXRun || !isActivated;\n    if (activationHasEnded && this.activationAnimationHasEnded_) {\n      this.rmBoundedActivationClasses_();\n      this.adapter_.addClass(FG_DEACTIVATION);\n      this.fgDeactivationRemovalTimer_ = setTimeout(function () {\n        _this.adapter_.removeClass(FG_DEACTIVATION);\n      }, numbers.FG_DEACTIVATION_MS);\n    }\n  };\n  MDCRippleFoundation.prototype.rmBoundedActivationClasses_ = function () {\n    var FG_ACTIVATION = MDCRippleFoundation.cssClasses.FG_ACTIVATION;\n    this.adapter_.removeClass(FG_ACTIVATION);\n    this.activationAnimationHasEnded_ = false;\n    this.adapter_.computeBoundingRect();\n  };\n  MDCRippleFoundation.prototype.resetActivationState_ = function () {\n    var _this = this;\n    this.previousActivationEvent_ = this.activationState_.activationEvent;\n    this.activationState_ = this.defaultActivationState_();\n    // Touch devices may fire additional events for the same interaction within a short time.\n    // Store the previous event until it's safe to assume that subsequent events are for new interactions.\n    setTimeout(function () {\n      return _this.previousActivationEvent_ = undefined;\n    }, MDCRippleFoundation.numbers.TAP_DELAY_MS);\n  };\n  MDCRippleFoundation.prototype.deactivate_ = function () {\n    var _this = this;\n    var activationState = this.activationState_;\n    // This can happen in scenarios such as when you have a keyup event that blurs the element.\n    if (!activationState.isActivated) {\n      return;\n    }\n    var state = tslib_1.__assign({}, activationState);\n    if (activationState.isProgrammatic) {\n      requestAnimationFrame(function () {\n        return _this.animateDeactivation_(state);\n      });\n      this.resetActivationState_();\n    } else {\n      this.deregisterDeactivationHandlers_();\n      requestAnimationFrame(function () {\n        _this.activationState_.hasDeactivationUXRun = true;\n        _this.animateDeactivation_(state);\n        _this.resetActivationState_();\n      });\n    }\n  };\n  MDCRippleFoundation.prototype.animateDeactivation_ = function (_a) {\n    var wasActivatedByPointer = _a.wasActivatedByPointer,\n      wasElementMadeActive = _a.wasElementMadeActive;\n    if (wasActivatedByPointer || wasElementMadeActive) {\n      this.runDeactivationUXLogicIfReady_();\n    }\n  };\n  MDCRippleFoundation.prototype.layoutInternal_ = function () {\n    var _this = this;\n    this.frame_ = this.adapter_.computeBoundingRect();\n    var maxDim = Math.max(this.frame_.height, this.frame_.width);\n    // Surface diameter is treated differently for unbounded vs. bounded ripples.\n    // Unbounded ripple diameter is calculated smaller since the surface is expected to already be padded appropriately\n    // to extend the hitbox, and the ripple is expected to meet the edges of the padded hitbox (which is typically\n    // square). Bounded ripples, on the other hand, are fully expected to expand beyond the surface's longest diameter\n    // (calculated based on the diagonal plus a constant padding), and are clipped at the surface's border via\n    // `overflow: hidden`.\n    var getBoundedRadius = function () {\n      var hypotenuse = Math.sqrt(Math.pow(_this.frame_.width, 2) + Math.pow(_this.frame_.height, 2));\n      return hypotenuse + MDCRippleFoundation.numbers.PADDING;\n    };\n    this.maxRadius_ = this.adapter_.isUnbounded() ? maxDim : getBoundedRadius();\n    // Ripple is sized as a fraction of the largest dimension of the surface, then scales up using a CSS scale transform\n    this.initialSize_ = Math.floor(maxDim * MDCRippleFoundation.numbers.INITIAL_ORIGIN_SCALE);\n    this.fgScale_ = \"\" + this.maxRadius_ / this.initialSize_;\n    this.updateLayoutCssVars_();\n  };\n  MDCRippleFoundation.prototype.updateLayoutCssVars_ = function () {\n    var _a = MDCRippleFoundation.strings,\n      VAR_FG_SIZE = _a.VAR_FG_SIZE,\n      VAR_LEFT = _a.VAR_LEFT,\n      VAR_TOP = _a.VAR_TOP,\n      VAR_FG_SCALE = _a.VAR_FG_SCALE;\n    this.adapter_.updateCssVariable(VAR_FG_SIZE, this.initialSize_ + \"px\");\n    this.adapter_.updateCssVariable(VAR_FG_SCALE, this.fgScale_);\n    if (this.adapter_.isUnbounded()) {\n      this.unboundedCoords_ = {\n        left: Math.round(this.frame_.width / 2 - this.initialSize_ / 2),\n        top: Math.round(this.frame_.height / 2 - this.initialSize_ / 2)\n      };\n      this.adapter_.updateCssVariable(VAR_LEFT, this.unboundedCoords_.left + \"px\");\n      this.adapter_.updateCssVariable(VAR_TOP, this.unboundedCoords_.top + \"px\");\n    }\n  };\n  return MDCRippleFoundation;\n}(MDCFoundation);\nexport { MDCRippleFoundation };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\nexport default MDCRippleFoundation;","map":{"version":3,"names":["MDCFoundation","cssClasses","numbers","strings","getNormalizedEventCoords","ACTIVATION_EVENT_TYPES","POINTER_DEACTIVATION_EVENT_TYPES","activatedTargets","MDCRippleFoundation","_super","tslib_1","__extends","adapter","_this","call","__assign","defaultAdapter","activationAnimationHasEnded_","activationTimer_","fgDeactivationRemovalTimer_","fgScale_","frame_","width","height","initialSize_","layoutFrame_","maxRadius_","unboundedCoords_","left","top","activationState_","defaultActivationState_","activationTimerCallback_","runDeactivationUXLogicIfReady_","activateHandler_","e","activate_","deactivateHandler_","deactivate_","focusHandler_","handleFocus","blurHandler_","handleBlur","resizeHandler_","layout","Object","defineProperty","get","addClass","undefined","browserSupportsCssVars","computeBoundingRect","right","bottom","containsEventTarget","deregisterDocumentInteractionHandler","deregisterInteractionHandler","deregisterResizeHandler","getWindowPageOffset","x","y","isSurfaceActive","isSurfaceDisabled","isUnbounded","registerDocumentInteractionHandler","registerInteractionHandler","registerResizeHandler","removeClass","updateCssVariable","prototype","init","supportsPressRipple","supportsPressRipple_","registerRootHandlers_","_a","ROOT_1","ROOT","UNBOUNDED_1","UNBOUNDED","requestAnimationFrame","adapter_","layoutInternal_","destroy","clearTimeout","FG_ACTIVATION","FG_DEACTIVATION","ROOT_2","UNBOUNDED_2","removeCssVars_","deregisterRootHandlers_","deregisterDeactivationHandlers_","activate","evt","deactivate","cancelAnimationFrame","setUnbounded","unbounded","BG_FOCUSED","activationEvent","hasDeactivationUXRun","isActivated","isProgrammatic","wasActivatedByPointer","wasElementMadeActive","forEach","evtType","registerDeactivationHandlers_","type","rippleStrings","keys","key","indexOf","activationState","previousActivationEvent","previousActivationEvent_","isSameInteraction","hasActivatedChild","length","some","target","resetActivationState_","push","checkElementMadeActive_","animateActivation_","keyCode","VAR_FG_TRANSLATE_START","VAR_FG_TRANSLATE_END","_b","DEACTIVATION_TIMEOUT_MS","translateStart","translateEnd","_c","getFgTranslationCoordinates_","startPoint","endPoint","rmBoundedActivationClasses_","setTimeout","activationHasEnded","FG_DEACTIVATION_MS","TAP_DELAY_MS","state","animateDeactivation_","maxDim","Math","max","getBoundedRadius","hypotenuse","sqrt","pow","PADDING","floor","INITIAL_ORIGIN_SCALE","updateLayoutCssVars_","VAR_FG_SIZE","VAR_LEFT","VAR_TOP","VAR_FG_SCALE","round"],"sources":["foundation.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}